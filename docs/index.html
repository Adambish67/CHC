<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Cultural Health Connect</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b37c29f24492250fea2fd8356a68c4ef.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./Images/CHChug.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Cultural Health Connect</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Donate.html"> 
<span class="menu-text">Donate</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<p class="hero-lead" style="font-size:1.3em; color:#F00; text-align:center;">
<strong> The CHC webpage is currently undergoing a major overhaul and expansion. Resources and functionality will be limited until completion. Thank you for your patience and understanding. </strong>
</p>
<!-- HERO SECTION -->
<div class="hero">
<img src="Images/CHClogo.png" alt="Cultural Health Connect Logo" style="width:800px; border-radius:50px; background:#fff; padding:8px; margin-bottom:18px;">
<p class="hero-lead" style="font-size:1.3em; color:#111;">
Empowering healthier lives in East County San Diego—where culture meets clinical knowledge.
</p>
</div>
<!-- MISSION SECTION -->
<div class="container" style="margin-top:2rem;">
<p>
At Cultural Health Connect, our mission is to deliver the most up-to-date, evidence-based guidance on managing chronic disease through diet and lifestyle—tailored specifically to the Middle Eastern and Mexican communities of El Cajon. We believe in the power of moderation rather than elimination, working alongside our community to find practical, sustainable health solutions that honor and respect cherished cultural traditions—especially those centered on food.
</p>
<p style="text-align:center; margin-top:2rem;">
<a href="about.html" class="btn">Founders</a> <a href="Contact.html" class="btn">Contact Us</a> <a href="Donate.html" class="btn">Donate</a>
</p>
</div>
<!-- CHRONIC DISEASE MANAGEMENT SECTION -->
<section class="container">
<h2 class="anchored">
Managing Chronic Diseases with Cultural Sensitivity
</h2>
<p>
Chronic diseases such as type 2 diabetes, hypertension, and heart disease disproportionately affect immigrant communities, including Middle Eastern and Latin American populations in El Cajon. A 2025 systematic review published in <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC11751812/" target="_blank"><em>BMJ Open</em></a> found that Middle Eastern immigrants in high-income countries face significantly higher rates of type 2 diabetes due to cultural, linguistic, and systemic barriers to prevention and care. Similarly, a 2022 review in <a href="https://www.cureus.com/articles/87752-type-2-diabetes-mellitus-in-latinx-populations-in-the-united-states-a-culturally-relevant-literature-review" target="_blank"><em>Cureus</em></a> highlighted that Hispanic populations in the U.S. experience higher rates of type 2 diabetes and its complications—such as cardiovascular disease and chronic kidney disease—due to socioeconomic disparities, limited healthcare access, and cultural perceptions of illness. At Cultural Health Connect, we work to address these challenges by providing linguistically and culturally tailored education, leveraging community values to promote evidence-based prevention and chronic disease management strategies.
</p>
</section>
<!-- DIETARY PRACTICES SECTION -->
<section class="container">
<h2 class="anchored">
Culturally Tailored Dietary Practices
</h2>
<p>
</p><p>At Cultural Health Connect, we emphasize moderation over elimination and honor cultural traditions while promoting sustainable changes. Food is deeply tied to identity - especially in Middle Eastern and Latin American communities, where meals are central to family, tradition, and connection. Rather than asking individuals to give up beloved dishes like biryani, or tamales we collaborate with community members to adapt recipes in ways that support blood sugar management. This might mean adjusting portion sizes, making small ingredient swaps such as reducing added salt in hummus, or balancing meals with fiber-rich sides. By approaching nutrition with cultural humility, we preserve flavor and heritage while helping to fight cardiometabolic disease in a familiar and achievable way.</p>
<p></p>
<div class="practice-grid">
<div class="practice-card">
<h3 class="anchored">
Balanced Portions
</h3>
<p>
Eating smaller portions can help with weight loss and blood sugar control. One study found that people with diabetes who used a portion-control plate lost weight and needed less medication (<a href="https://pubmed.ncbi.nlm.nih.gov/17592101/" target="_blank">Pedersen et al., 2007</a>). For example, try using a smaller plate for your meals, taking up the space with more vegetables over carb-heavy foods like rice and potatoes. This keeps meals satisfying while supporting your health.
</p>
</div>
<div class="practice-card">
<h3 class="anchored">
Smart Substitutions
</h3>
<p>
Using less salt can help lower blood pressure—even in just one week—and support better diabetes and heart health. One trial found that a low‑sodium diet reduced systolic blood pressure by 7–8 mm Hg in most participants, including those with diabetes or high blood pressure (<a href="https://newsroom.heart.org/news/reducing-sodium-intake-significantly-lowered-blood-pressure-in-as-little-as-one-week" target="_blank">American Heart Association, 2023</a>).
</p>
</div>
<div class="practice-card wide-card">
<h3 class="anchored">
Increase Fiber Intake
</h3>
<p>
Eating fiber-rich foods like beans, lentils, vegetables, fruits, and whole grains can help lower blood sugar, reduce cholesterol, and support a healthy weight.
</p>
<p>
<strong>How much to aim for:</strong> Adults should aim for about <strong>22–34 grams of fiber per day</strong> depending on age and sex (<a href="https://www.cdc.gov/diabetes/healthy-eating/fiber-helps-diabetes.html" target="_blank">CDC, 2020–2025 guidelines</a>).
</p>
<p>
<strong>How to get it:</strong> One cup of cooked beans or lentils counts for about 8 grams of fiber. Try adding a cup of black or kidney beans to your meals 3–4 times per week, like in soups, beans and rice, or stews. This has been shown to improve blood sugar control in people with type 2 diabetes by lowering HbA₁c about 0.5% (<a href="https://pubmed.ncbi.nlm.nih.gov/23089999/" target="_blank">Jenkins et al., 2012</a>). Fiber Supplements that you add to water are also a good means of increasing fiber intake.
</p>
</div>
</div>
</section>
<!-- PHYSICAL ACTIVITY SECTION -->
<section class="container">
<h2 class="anchored">
Physical Activity for Health
</h2>
<p>
Physical activity helps manage type 2 diabetes, high blood pressure, and weight. One of the most important types is resistance training. This includes walking uphill, taking the stairs, lifting weights, or doing exercises that use your own body weight. These movements build muscle, which plays a key role in controlling blood sugar. Muscle acts like a sponge for sugar in the blood. When you use your muscles, they pull in sugar for energy. The more muscle you have, the better your body can use insulin and keep your blood sugar stable. Building muscle also helps burn more calories, support healthy joints, and lower the risk of heart problems. You don’t need a gym. Simple movements done regularly—at home, at work, or outside—can make a big difference.
</p>
<div class="practice-grid">
<!-- BIG BOX (already have) -->
<div class="practice-card">
<h3 class="anchored">
Stairs, Hills, and Bodyweight Exercise
</h3>
<p>
Walking uphill, taking the stairs, or doing simple moves like squats and push-ups helps lower blood sugar and build muscle. Just a few minutes after meals or a short routine at home can make a big difference—no gym needed (<a href="https://doi.org/10.3390/muscles2020018" target="_blank">Honda et al., 2023</a>).
</p>
</div>
<div class="practice-card">
<h3 class="anchored">
Move Throughout the Day
</h3>
<p>
Small movements during daily life—like walking while talking, standing often, or carrying groceries—help your body use sugar and protect your heart. Even light movement adds up over time (<a href="https://pubmed.ncbi.nlm.nih.gov/24167194/" target="_blank">Woolf et al., 2013</a>).
</p>
</div>
<div class="practice-card wide-card">
<h3 class="anchored">
Build Muscle with Resistance Training
</h3>
<p>
Building and keeping muscle is one of the best ways to stay healthy and live longer. Research shows that people who do resistance training (like lifting weights, using resistance bands, or doing squats and push-ups) live happier lives and have a lower risk of heart disease, diabetes, cancer, and death—often 10–17% lower than those who do not (<a href="https://www.ahajournals.org/doi/10.1161/CIR.0000000000001189" target="_blank">Circulation, 2023</a>).
</p>
<p>
Getting just <strong>30–60 minutes per week</strong> of resistance training provides most of these benefits—stronger muscles, better blood sugar control, improved bone and joint health, and even better thinking skills (<a href="https://journals.lww.com/acsm-esm/fulltext/2023/01000/the_health_benefits_of_resistance_exercise__beyond.2.aspx" target="_blank">Exercise, Sport &amp; Movement, 2022</a>).
</p>
<p>
Muscle makes your body better at using insulin and prevents sugar from staying in your bloodstream. The stronger your muscles are, the less risk there is of disease and injuries as you age.
</p>
<p>
<strong>Tip for Home-Based Training:</strong> If you don’t have gym access, use bodyweight moves like squats, wall push-ups, and chair sit-to-stands, or invest in inexpensive resistance bands. Even <strong>10-minute walks after meals</strong> can lower post-meal glucose (<a href="https://www.nature.com/articles/s41598-025-07312-y" target="_blank" rel="noopener">Sci Rep, 2025</a>; <a href="https://diabetesjournals.org/care/article/39/6/964/29532/Benefits-for-Type-2-Diabetes-of-Interrupting" target="_blank" rel="noopener">Diabetes Care, 2016</a>).
</p>
</div>
</div>
</section>
<!-- MENTAL HEALTH SECTION -->
<section class="container">
<h2 class="anchored">
Mental Health and Stress Management
</h2>
<p>
Managing stress, getting quality sleep, and staying socially connected can all help control blood sugar, lower blood pressure, and improve overall well-being. These approaches are simple, affordable, and can fit naturally into daily routines without requiring major lifestyle changes.
</p>
<div class="practice-grid">
<div class="practice-card">
<h3 class="anchored">
Prayer, Reflection, or Quiet Breathing
</h3>
<p>
Moments of stillness through prayer, reflection, or slow breathing can lower stress hormones like cortisol, which in turn helps keep blood sugar and blood pressure in healthier ranges (<a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC10534311/" target="_blank" rel="noopener">Systematic review &amp; meta-analysis, 2023</a>). Even 5–10 minutes a day can be effective, and these practices can be done anywhere: during morning prayer, before a meal, or while resting in the evening.
</p>
</div>
<div class="practice-card">
<h3 class="anchored">
Quality Sleep
</h3>
<p>
Good sleep is not just rest—it’s when the body repairs itself, balances hormones, and keeps blood sugar in check. Poor or inconsistent sleep can make the body less responsive to insulin and raise appetite the next day (<a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC11368308/" target="_blank" rel="noopener">Sleep &amp; HbA<sub>1c</sub> review, 2024</a>). Aim for a steady bedtime, a cool and quiet sleeping space, and less phone or TV time in the hour before bed.
</p>
</div>
<div class="practice-card wide-card">
<h3 class="anchored">
Stay Connected
</h3>
<p>
Time with family, friends, or community is more than social—it can protect heart health, reduce stress, and encourage healthy habits. Studies show that people with strong social ties have better blood sugar control and a lower risk of depression (<a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC11293637/" target="_blank" rel="noopener">Systematic review/meta-analysis, 2024</a>). Shared meals, walking groups, or gatherings at faith centers provide both emotional support and accountability for healthy living.
</p>
</div>
</div>
</section>
<!-- CALL TO ACTION -->
<section class="container" style="text-align:center;">
<h2 class="anchored">
Join Our Community
</h2>
<p>
Cultural Health Connect is more than a resource—it’s a movement to empower our Middle Eastern and Mexican communities in El Cajon to live healthier, fuller lives. Get involved by volunteering, attending our workshops, or donating to support our mission.
</p>
<p style="margin-top:2rem;">
<a href="Contact.html" class="btn">Volunteer</a> <a href="Donate.html" class="btn">Donate</a>
</p>
</section>
<!-- FOOTER -->
<footer>
© 2025 Cultural Health Connect – All Rights Reserved
</footer>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>